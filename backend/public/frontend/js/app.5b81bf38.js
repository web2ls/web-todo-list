(function(e){function t(t){for(var r,n,i=t[0],c=t[1],d=t[2],u=0,g=[];u<i.length;u++)n=i[u],a[n]&&g.push(a[n][0]),a[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(g.length)g.shift()();return s.push.apply(s,d||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],r=!0,i=1;i<o.length;i++){var c=o[i];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=n(n.s=o[0]))}return e}var r={},a={app:0},s=[];function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=c;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0ab2":function(e,t,o){"use strict";var r=o("245b"),a=o.n(r);a.a},"13a3":function(e,t,o){"use strict";var r=o("e7de"),a=o.n(r);a.a},"1b9d":function(e,t,o){"use strict";var r=o("af8c"),a=o.n(r);a.a},"245b":function(e,t,o){},3932:function(e,t,o){"use strict";var r=o("9b5e"),a=o.n(r);a.a},4369:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"container"},[o("header",[o("router-link",{attrs:{to:"/"}},[e._v("to do it now!")])],1),o("router-view")],1)])},s=[],n={components:{}},i=n,c=(o("5c0b"),o("2877")),d=Object(c["a"])(i,a,s,!1,null,null,null),l=d.exports,u=o("8c4f"),g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"categories"},[o("div",{staticClass:"nav"},[o("div",{staticClass:"header"},[e._v("select categories")]),o("div",{staticClass:"errors"},[e.errorGetDataMessage?o("div",{staticClass:"alert-message"},[e._v("Error on getting data from the server")]):e._e()]),o("div",{staticClass:"settings-link"},[o("router-link",{attrs:{to:"/settings"}},[o("unicon",{attrs:{name:"cog",fill:"limegreen",width:"30",height:"30"}})],1)],1)]),o("div",{staticClass:"categories-list"},e._l(e.categories,function(e){return o("category",{key:e.id,attrs:{category:e}})}),1)])},f=[],h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"category-item",on:{click:function(t){return e.selectCategory()}}},[o("div",{staticClass:"default-category-icon"},[o("unicon",{attrs:{name:"folder",fill:"limegreen",width:"30",height:"30"}})],1),o("div",{staticClass:"category-name"},[e._v("\n        "+e._s(e.category.name)+"\n    ")]),o("div",{staticClass:"category-stats"},[o("span",[e._v("active tasks: "+e._s(e.todosAmount))])])])},m=[],v=o("bc3a"),p=o.n(v),C={BACKEND_URL:"http://localhost:3000"};function y(){var e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e)}}var _={getCategories:function(){var e=y(),t="".concat(C.BACKEND_URL,"/categories");return p.a.get(t,{headers:e})},getTodosAmountByCategory:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/todos/").concat(e,"/amount");return p.a.get(o,{headers:t})},getTodosByCategory:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/todos/").concat(e);return p.a.get(o,{headers:t})},createCategory:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/categories/create");return p.a.post(o,e,{headers:t})},updateCategory:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/categories/update");return p.a.put(o,e,{headers:t})},deleteCategory:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/categories/delete/").concat(e);return p.a.delete(o,{headers:t})},createTodo:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/todos/create");return p.a.post(o,e,{headers:t})},updateTodo:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/todos/update");return p.a.put(o,e,{headers:t})},deleteTodo:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/todos/delete/").concat(e);return p.a.delete(o,{headers:t})},deleteTodosByCategory:function(e){var t=y(),o="".concat(C.BACKEND_URL,"/todos/delete/bycategory/").concat(e);return p.a.delete(o,{headers:t})},login:function(e){var t="".concat(C.BACKEND_URL,"/auth");return p.a.post(t,e)},createUser:function(){var e="".concat(C.BACKEND_URL,"/users");return p.a.get(e)}},w={props:["category"],data:function(){return{todosAmount:0}},created:function(){var e=this;_.getTodosAmountByCategory(this.category._id).then(function(t){e.todosAmount=t.data}).catch(function(e){console.error(e)})},methods:{selectCategory:function(){var e=this.category._id;this.$router.push({name:"todos",params:{id:e}})}}},T=w,b=(o("13a3"),Object(c["a"])(T,h,m,!1,null,"4573ff96",null)),E=b.exports,N={components:{Category:E},data:function(){return{categories:[],errorGetDataMessage:!1}},created:function(){var e=this;_.getCategories().then(function(t){console.log(t),e.categories=t.data}).catch(function(t){console.error(t),e.errorGetDataMessage=!0})},methods:{resetMessages:function(){this.errorGetDataMessage=!1}}},D=N,k=(o("1b9d"),Object(c["a"])(D,g,f,!1,null,"e9b33f0a",null)),U=k.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todos"},[o("div",{staticClass:"todos-header"},[o("div",{staticClass:"todos-fallback"},[o("router-link",{attrs:{to:"/"}},[o("unicon",{attrs:{name:"arrow-left",fill:"limegreen",width:"30",height:"30"}})],1)],1),o("div",{staticClass:"todos-category"}),o("div",{staticClass:"todos-settings-link"},[o("router-link",{attrs:{to:"/settings"}},[o("unicon",{attrs:{name:"cog",fill:"limegreen",width:"30",height:"30"}})],1)],1)]),o("div",{staticClass:"errors"},[e.errorGetData?o("div",{staticClass:"alert-message"},[e._v("Error on getting data from the server")]):e._e(),e.errorCreateTodo?o("div",{staticClass:"alert-message"},[e._v("Error on creating new Todo")]):e._e(),e.errorUpdateTodo?o("div",{staticClass:"alert-message"},[e._v("Error on updating Todo")]):e._e(),e.errorDeleteTodo?o("div",{staticClass:"alert-message"},[e._v("Error on deleting Todo")]):e._e()]),o("div",{staticClass:"todos-new-todo"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newTodoValue,expression:"newTodoValue"},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"Enter new todo..."},domProps:{value:e.newTodoValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterNewTodo(t)},input:function(t){t.target.composing||(e.newTodoValue=t.target.value)}}})]),e._l(e.todos,function(t){return o("todo",{key:t.id,attrs:{todo:t},on:{onCompleteTodo:e.onCompleteTodo,onSelectTodo:e.onSelectTodo,onEditTodo:e.onEditTodo}})}),e.isSelectedTodosExists?o("div",{staticClass:"todos-delete-selected-btn",on:{click:e.onDeleteTodos}},[o("unicon",{attrs:{name:"trash-alt",fill:"#e27d60",width:"50",height:"50"}})],1):e._e()],2)},A=[],S=(o("6762"),o("2fdb"),o("795b")),O=o.n(S),P=(o("5df3"),o("ac6a"),o("20d6"),o("7514"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo"},[o("div",{staticClass:"todo-check",on:{click:function(t){return t.stopPropagation(),e.emitOnSelectTodo()}}},[e.isSelected?o("unicon",{attrs:{name:"check-square",fill:"#e27d60",width:"30",height:"30"}}):o("unicon",{attrs:{name:"square-full",fill:"#e8a87c",width:"30",height:"30"}})],1),o("div",{staticClass:"todo-content",class:{completed:e.todo.isComplete},on:{click:function(t){return t.stopPropagation(),e.startEditTodo(t)}}},[e.isEditing?e._e():o("div",[e._v(e._s(e.todo.content))]),e.isEditing?o("div",[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.todo.content,expression:"todo.content"},{name:"focus",rawName:"v-focus"}],domProps:{value:e.todo.content},on:{change:e.endEditTodo,input:function(t){t.target.composing||e.$set(e.todo,"content",t.target.value)}}})]):e._e()]),o("div",{staticClass:"todo-complete-zone",class:{completed:e.todo.isComplete},on:{click:function(t){return t.stopPropagation(),e.emitOnCompletedTodo()}}},[e.todo.isComplete?o("div",[e._v("Completed")]):o("div",[e._v("Complete")])])])}),R=[],B={props:["todo"],directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{isSelected:!1,isEditing:!1}},methods:{startEditTodo:function(){this.isEditing=!0},endEditTodo:function(e){var t=e.target.value;this.$emit("onEditTodo",{_id:this.todo._id,content:t}),this.isEditing=!1},emitOnCompletedTodo:function(){this.$emit("onCompleteTodo",{_id:this.todo._id,isComplete:!this.todo.isComplete})},emitOnSelectTodo:function(){this.isSelected=!this.isSelected,this.$emit("onSelectTodo",{_id:this.todo._id,isSelected:this.isSelected})}}},j=B,I=(o("70b0"),Object(c["a"])(j,P,R,!1,null,"f93eeea8",null)),$=I.exports,M={components:{Todo:$},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{categoryId:"",todos:[],selectedTodos:[],newTodoValue:"",errorGetData:!1,errorCreateTodo:!1,errorUpdateTodo:!1,errorDeleteTodo:!1}},computed:{isSelectedTodosExists:function(){return!!this.selectedTodos.length}},created:function(){var e=this;console.log(this.$route.params);var t=this.$route.params.id;this.categoryId=t,_.getTodosByCategory(t).then(function(t){e.todos=t.data}).catch(function(t){console.error(t),e.errorGetData=!0})},methods:{onCompleteTodo:function(e){var t=this,o=this.todos.find(function(t){return t._id===e._id}),r=this.todos.findIndex(function(t){return t._id===e._id});o.isComplete=e.isComplete,_.updateTodo(o).then(function(e){t.todos[r]=e.data}).catch(function(e){console.error(e),t.errorUpdateTodo=!0})},onSelectTodo:function(e){if(e.isSelected)this.selectedTodos.push(e._id);else{var t=this.selectedTodos.findIndex(function(t){return t===e._id});this.selectedTodos.splice(t,1)}},onEditTodo:function(e){var t=this,o=this.todos.find(function(t){return t._id===e._id}),r=this.todos.findIndex(function(t){return t._id===e._id});o.content=e.content,_.updateTodo(o).then(function(e){t.todos[r]=e.data}).catch(function(e){console.error(e),t.errorUpdateTodo=!0})},enterNewTodo:function(){var e=this;this.resetMessages();var t={content:this.newTodoValue,isComplete:!1,category:this.categoryId};_.createTodo(t).then(function(t){e.todos.push(t.data),e.newTodoValue=""}).catch(function(t){console.error(t),e.errorCreateTodo=!0})},onDeleteTodos:function(){var e=this,t=[];this.selectedTodos.forEach(function(e){t.push(_.deleteTodo(e))}),O.a.all(t).then(function(t){var o=e.todos.filter(function(t){return!e.selectedTodos.includes(t._id)});e.selectedTodos=[],e.todos=o}).catch(function(e){console.error(e)})},resetMessages:function(){this.errorGetData=!1,this.errorCreateTodo=!1,this.errorUpdateTodo=!1,this.errorDeleteTodo=!1}}},L=M,K=(o("0ab2"),Object(c["a"])(L,x,A,!1,null,"c7d9bd9e",null)),q=K.exports,G=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"settings"},[o("div",{staticClass:"settings-header"},[o("div",{staticClass:"settings-fallback"},[o("router-link",{attrs:{to:"/"}},[o("unicon",{attrs:{name:"arrow-left",fill:"limegreen",width:"30",height:"30"}})],1)],1)]),o("div",{staticClass:"categories"},[o("div",{staticClass:"header"},[e._v("Add Category")]),o("div",{staticClass:"create-new-category"},[o("form",{on:{submit:function(t){return t.preventDefault(),e.createCategory(t)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newCategoryName,expression:"newCategoryName"}],attrs:{type:"text",autocomplete:"off",placeholder:"category name..."},domProps:{value:e.newCategoryName},on:{input:function(t){t.target.composing||(e.newCategoryName=t.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newCategoryIcon,expression:"newCategoryIcon"}],attrs:{type:"text",autocomplete:"off",placeholder:"category icon..."},domProps:{value:e.newCategoryIcon},on:{input:function(t){t.target.composing||(e.newCategoryIcon=t.target.value)}}}),o("button",{staticClass:"save-new-category-btn",attrs:{type:"submit"}},[e._v("Add me")])]),o("div",{staticClass:"success"},[e.successCreateNewCategory?o("div",{staticClass:"success-message"},[e._v("Category has been created")]):e._e(),e.successUpdateCategory?o("div",{staticClass:"success-message"},[e._v("Category has been updated")]):e._e()]),o("div",{staticClass:"errors"},[e.errorNewCategoryName?o("div",{staticClass:"alert-message"},[e._v("Wrong new Category name")]):e._e(),e.errorCreateNewCategory?o("div",{staticClass:"alert-message"},[e._v("Error on creating new Category")]):e._e(),e.errorUpdateCategory?o("div",{staticClass:"alert-message"},[e._v("Error on updating Category")]):e._e(),e.errorDeleteCategory?o("div",{staticClass:"alert-message"},[e._v("Error on deleting Category")]):e._e(),e.errorGetData?o("div",{staticClass:"alert-message"},[e._v("Error on getting data from the server")]):e._e()])]),o("div",{staticClass:"list"},[o("div",{staticClass:"list-header"},[e._v("Categories list")]),e._l(e.categories,function(t){return o("div",{key:t._id,staticClass:"category-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"category.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(o){o.target.composing||e.$set(t,"name",o.target.value)}}}),o("div",{staticClass:"controls"},[o("unicon",{staticClass:"control-icon",attrs:{name:"edit",width:"20",height:"20"},on:{click:function(o){return e.editCategory(t)}}}),o("unicon",{staticClass:"control-icon",attrs:{name:"trash-alt",width:"20",height:"20"},on:{click:function(o){return e.deleteCategory(t._id)}}})],1)])})],2)])])},V=[],W=(o("7f7f"),{data:function(){return{newCategoryName:"",newCategoryIcon:"",categories:[],successCreateNewCategory:!1,successUpdateCategory:!1,errorNewCategoryName:!1,errorCreateNewCategory:!1,errorUpdateCategory:!1,errorDeleteCategory:!1,errorGetData:!1}},created:function(){var e=this;_.getCategories().then(function(t){e.categories=t.data}).catch(function(t){console.error(t),e.errorGetData=!0})},methods:{getNewCategoryObj:function(){return{name:this.newCategoryName,icon:this.newCategoryIcon}},createCategory:function(){var e=this;if(this.resetMessages(),this.newCategoryName){var t=this.getNewCategoryObj();_.createCategory(t).then(function(t){e.successCreateNewCategory=!0,e.categories.push(t.data),e.newCategoryName="",e.newCategoryIcon=""}).catch(function(t){console.error(t),e.errorCreateNewCategory=!0})}else this.errorNewCategoryName=!0},editCategory:function(e){var t=this;this.resetMessages(),e.name?_.updateCategory(e).then(function(e){t.successUpdateCategory=!0}).catch(function(e){console.error(e),t.errorUpdateCategory=!0}):this.errorNewCategoryName=!0},deleteCategory:function(e){var t=this;_.deleteTodosByCategory(e).then(function(t){return _.deleteCategory(e)}).then(function(o){t.categories=t.categories.filter(function(t){return t._id!==e})}).catch(function(e){console.error(e),t.errorDeleteCategory=!0})},resetMessages:function(){this.errorNewCategoryName=!1,this.errorCreateNewCategory=!1,this.errorUpdateCategory=!1,this.errorDeleteCategory=!1,this.successCreateNewCategory=!1,this.successUpdateCategory=!1,this.errorGetData=!1}}}),z=W,J=(o("3932"),Object(c["a"])(z,G,V,!1,null,"656aaae8",null)),F=J.exports,H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"header"},[e._v("Authentication")]),o("form",{staticClass:"form",attrs:{novalidate:"true"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email..."},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.errorEmailRequired?o("div",{staticClass:"alert-message"},[e._v("Email is required")]):e._e(),e.errorEmailWrong?o("div",{staticClass:"alert-message"},[e._v("Wrong email")]):e._e()]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password..."},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.errorPasswdRequired?o("div",{staticClass:"alert-message"},[e._v("Password is required")]):e._e()]),o("div",{staticClass:"controls"},[o("button",{attrs:{type:"submit"}},[e._v("Login")]),o("button",{attrs:{type:"button"},on:{click:e.createUser}},[e._v("Sign Up")])]),e.errorAuth?o("div",{staticClass:"errors"},[o("div",{staticClass:"alert-message"},[e._v("Incorrect Username or Password")])]):e._e()])])},Q=[],X={data:function(){return{errors:[],email:null,password:null,errorAuth:!1,errorEmailRequired:!1,errorPasswdRequired:!1,errorEmailWrong:!1}},methods:{onSubmit:function(){var e=this;this.resetMessages(),this.email?this.password?this.email.includes(".")&&this.email.includes("@")?(console.log(this.email,this.password),_.login({email:this.email,password:this.password}).then(function(t){console.log(t.data),localStorage.setItem("token",t.data.token),e.$router.push({name:"categories"})}).catch(function(t){console.log(t),e.errorAuth=!0})):this.errorEmailWrong=!0:this.errorPasswdRequired=!0:this.errorEmailRequired=!0},resetMessages:function(){this.errorEmailRequired=!1,this.errorPasswdRequired=!1,this.errorEmailWrong=!1,this.errorAuth=!1},createUser:function(){var e=this;_.createUser().then(function(e){console.log("User has been created")}).catch(function(t){console.error(t),e.errorAuth=!0})}}},Y=X,Z=(o("9986"),Object(c["a"])(Y,H,Q,!1,null,"7e36fd43",null)),ee=Z.exports;r["a"].use(u["a"]);var te=new u["a"]({mode:"history",base:"/",routes:[{path:"/",name:"categories",component:U},{path:"/todos/category/:id",name:"todos",component:q},{path:"/settings",name:"settings",component:F},{path:"/login",name:"login",component:ee}]}),oe=o("e4a1"),re=o.n(oe),ae=o("6a61");re.a.add([ae["c"],ae["a"],ae["f"],ae["b"],ae["g"],ae["e"],ae["d"]]),r["a"].use(re.a),r["a"].config.productionTip=!1,te.beforeEach(function(e,t,o){"/login"===e.path&&o();var r=localStorage.getItem("token");r?o():o("/login")}),new r["a"]({router:te,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";var r=o("5e27"),a=o.n(r);a.a},"5e27":function(e,t,o){},"70b0":function(e,t,o){"use strict";var r=o("c727"),a=o.n(r);a.a},9986:function(e,t,o){"use strict";var r=o("4369"),a=o.n(r);a.a},"9b5e":function(e,t,o){},af8c:function(e,t,o){},c727:function(e,t,o){},e7de:function(e,t,o){}});
//# sourceMappingURL=app.5b81bf38.js.map